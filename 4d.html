<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>4D影院</title>
	<link rel="stylesheet" type="text/css" href="main.css">
	<script type="text/javascript" src="js/jquery-1.12.1.js"></script>
	<style type="text/css">
.movd{
	position: relative;
	background:url(images/haibaobg.jpg) no-repeat;
	background-size: cover;
}
.movi{
	float: right;
	height: 90%;
	width: 47%;
	color: #ffffff;
	/*background-color: rgba(102,102,102,0.4);*/
}
.movi ul{
	height: 100%;
}
.movd img{
	position: absolute;
	left: 2%;
	top: 50%;
	bottom: 50%;
	margin: auto 0;
}
.movi{
	position: absolute;
	top: 50%;
	bottom: 50%;
	right: 0;
	margin: auto 0;
}
.movi li{
	margin-left: 100px;
	height: 16%;
	padding-top: 5px;
	margin-right: 10px;
	text-overflow: ellipsis;
}
.movi li:nth-child(1){
	font-size: 60px;
}
.movi li:nth-child(n+2){
	font-size: 35px;
}
.movi li:nth-child(n+2) span{
	border: 2px solid #ffffff;
	margin:0 5px;
	padding: 5px;
}

	</style>
</head>
<body>
	<div class="box">
		<h1>盐田图书馆智能取号系统</h1>
		<h3>YANTIAN&nbsp;LIBRARY&nbsp;INTELLIGENT&nbsp;TICKET&nbsp;SYATEM</h3>
	</div>
	<!-- 标题 -->

	<div class="banner">
			<!-- <img src="images/haib.png"> -->
			<div class="movd" style="height: 100%;width: 100%;"> 
				<img src="images/hai.png" style="height: 90%; width: 50%;">
				<div class="movi">
					<ul>
						<li>
							海底两万里
						</li>
						<li>
							hai di liang wan li
						</li>
						<li>
							片长：104分钟
						</li>
						<li>
							地点：盐田图书馆
						</li>
						<li>
							上映时间：2016年06月1日 10:00
						</li>
						<li>
							看点：<span>惊险刺激</span><span>科幻</span>
						</li>
					</ul>
				</div>
			</div>
	</div>
	<!-- 影院大图 -->

	<div class="zuo">
		<div class="xiwei">
			<div class="topt">
				<div class="cho canc">可选</div>
				<div class="cho chod">已选</div>
				<div class="cho ycho">已售</div>
			</div>
			<div class="tix"><span>请选择座位</span></div>
			<!-- 梯形 -->
			<ul class="blo">
				<li>
					<span class="ind">1</span>
					<span class="zuowei">01号</span>
					<span class="zuowei">02号</span>
					<span class="zuowei">03号</span>
					<span class="zuowei">04号</span>
					<span class="zuowei">05号</span>
				</li>
				<li>
					<span class="ind">2</span>
					<span class="zuowei">06号</span>
					<span class="zuowei">07号</span>
					<span class="zuowei">08号</span>
					<span class="zuowei">09号</span>
					<span class="zuowei">10号</span>
				</li>
				<li>
					<span class="ind">3</span>
					<span class="zuowei">11号</span>
					<span class="zuowei">12号</span>
					<span class="zuowei">13号</span>
					<span class="zuowei">14号</span>
					<span class="zuowei">15号</span>
				</li>
				<li>
					<span class="ind">4</span>
					<span class="zuowei">16号</span>
					<span class="zuowei">17号</span>
					<span class="zuowei">18号</span>
					<span class="zuowei">19号</span>
					<span class="zuowei">20号</span>
				</li>
			</ul>
		</div>
	</div>
<div id="div" style="position:absolute; width:130px;height:130px;border-radius: 50%;background-color: rgba(255,255,255,0.3);position: absolute;bottom: 50%;right: 0;">
			<p id='title' style="background-color: rgba(255,255,255,0.8);
			width:110px;height:110px;border-radius: 50%;margin: 10px;line-height: 110px;text-align: center;font-family: '黑体';font-size: 25px; ">
				返回首页
			</p>
		</div>
		<!-- 拖动 -->
</body>
<script type="text/javascript">
	$(function(){
		var wid = $("body").width();
		$("body").height(wid*1.78);
		//宽高比例
		var lineh = $(".blo li").height();
		$(".ind").css("line-height",lineh+'px');
		$(".zuowei").css("line-height",lineh-15+'px');

		var xuan = 10
		//已经选择
		$(".zuowei").eq(xuan).addClass('yixuan');
		//添加已选绿色样式
		var shou = 18
		//已经售出
		$(".zuowei").eq(shou).addClass('yishou');
		//添加已售红色样式


		$(".zuowei").bind('click',function(){
			//var a = $(".zuowei");
			var b = $(".zuowei").index(this)+1;

			

			
		})
	})
</script>
<script type="text/javascript">
	(function ($) {
    if ((typeof $) == "undefined" || !$) {
        throw "Please refer to jQuery file!";
    }
    var settings = {
        container: null, //父级容器对象
        callback: null,  //回调函数
        direction: null, //[null,'X','Y']
        area: []//[minX,maxX,minY,maxY]
    };
    //获取鼠标位置
    var getCursorPos = function (e) {        
        if (e.pageX || e.pageY) {
            return { x: e.pageX, y: e.pageY };
        }
        var _body = document.body;
        return {
            x: e.clientX + _body.scrollLeft - _body.clientLeft,
            y: e.clientY + _body.scrollTop - _body.clientTop
        };
    };

    $.fn.dragdrop = function (options) {
        var setting = $.extend({}, settings, options);

        //返回JQuery链式引用
        return this.each(function () {
            var canMoving = false,
                offset = { innerTop: 0, innerLeft: 0, offsetTop: 0, offsetLeft: 0 },
                container = null,
                _self = $(this);            
            container = setting.container ? $(setting.container, _self) : _self;
            container.css({ "position": "absolute" });

            //bind事件
            _self.on("mousedown", function (e) {
                canMoving = true;
                container.css("cursor", "move");
                var pos = getCursorPos(e),
                    temp = setting.container.position();
                if (container.get(0).setCapture) {
                    container.get(0).setCapture();
                }
                //记录鼠标按下时，鼠标相对于移动对象原点的距离.
                offset.innerLeft = pos.x - temp.left;
                offset.innerTop = pos.y - temp.top;
            });
            $(document).on("mousemove", function (e) {    
           

                if (canMoving) {                    
                    var pos = getCursorPos(e);
                    //记录鼠标移动偏移量
                    offset.offsetLeft = pos.x - offset.innerLeft;
                    offset.offsetTop = pos.y - offset.innerTop;
                    //限制                    
                    if (setting.area != null && setting.area.length == 4) {
                        if (offset.offsetLeft < parseInt(setting.area[0])) {
                            offset.offsetLeft = parseInt(setting.area[0]);
                        }
                        else if (offset.offsetLeft > parseInt(setting.area[1])) {
                            offset.offsetLeft = parseInt(setting.area[1]);
                        }
                        else if (offset.offsetTop < parseInt(setting.area[2])) {
                            offset.offsetTop = parseInt(setting.area[2]);
                        }
                        else if (offset.offsetTop > parseInt(setting.area[3])) {
                            offset.offsetTop = parseInt(setting.area[3]);
                        }
                    }

                    switch (setting.direction) {
                        case "X":
                            container.css("left", offset.offsetLeft);
                            break;
                        case "Y":
                            container.css("top", offset.offsetTop);
                            break;
                        default:
                            container.css({ "top": offset.offsetTop, "left": offset.offsetLeft });
                            break;
                    }
                    if (setting.callback) {
                        setting.callback.call(setting.callback, offset);
                    }
                }
            });
            $(document).on("mouseup", function () {
                canMoving = false;
                container.css("cursor", "default");
                if (container.get(0).releaseCapture) {
                    container.get(0).releaseCapture();
                }
            });

        });
    };

})(jQuery);

$(function(){
	
	$("#title").dragdrop({container:$("#div")});
	//返回首页
	$("#title").click(function(){
		window.location.href='index.html';
	})
	
});
</script>
</html>