<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>智慧坐席</title>
	<link rel="stylesheet" type="text/css" href="main.css">
	<script type="text/javascript" src="js/jquery-1.12.1.js"></script>
</head>
<body>
	<div class="box">
		<h1>盐田图书馆智能取号系统</h1>
		<h3>YANTIAN&nbsp;LIBRARY&nbsp;INTELLIGENT&nbsp;TICKET&nbsp;SYATEM</h3>
	</div>
	<!-- 标题 -->

	<div class="banner">
			<img src="images/zhihuizuoxi.jpg">
	</div>
	<!-- 影院大图 -->

	<div class="zuo">
		<div class="xiwei">
			<div class="topt">
				<div class="settime">请选择时间</div>
			</div>
			<ul class="blok">
				<li>
					<span>08:00-09:00</span>
				</li>
				<li>
					<span>09:00-10:00</span>
				</li>
				<li>
					<span>10:00-11:00</span>
				</li>
				<li>
					<span>11:00-12:00</span>
				</li>
				<li>
					<span>14:00-15:00</span>
				</li>
				<li>
					<span>15:00-16:00</span>
				</li>
				<li>
					<span>16:00-17:00</span>
				</li>
				<li>
					<span>17:00-18:00</span>
				</li>
			</ul>
			<div class="count">
				<h3>剩余座位：<span id="now_num">10</span></h3>
				<div id="getnum">立即取号</div>
			</div>
		</div>
	</div>
<div id="div" style="position:absolute; width:130px;height:130px;border-radius: 50%;background-color: rgba(255,255,255,0.3);position: absolute;bottom: 50%;right: 0;">
			<p id='title' style="background-color: rgba(255,255,255,0.8);
			width:110px;height:110px;border-radius: 50%;margin: 10px;line-height: 110px;text-align: center;font-family: '黑体';font-size: 25px; ">
				返回首页
			</p>
		</div>
		<!-- 拖动 -->
</body>
<script type="text/javascript">
	$(function(){
		var wid = $("body").width();
		$("body").height(wid*1.78);
		//宽高比例
		var lineh = $(".blo li").height();
		$(".ind").css("line-height",lineh+'px');
		$(".zuowei").css("line-height",lineh-15+'px');

		var xuan = 10
		//已经选择
		$(".zuowei").eq(xuan).addClass('yixuan');
		//添加已选绿色样式
		var shou = 18
		//已经售出
		$(".zuowei").eq(shou).addClass('yishou');
		//添加已售红色样式


		$(".zuowei").bind('click',function(){
			//var a = $(".zuowei");
			var b = $(".zuowei").index(this)+1;

			

			
		})
	})
</script>
<script type="text/javascript">
	(function ($) {
    if ((typeof $) == "undefined" || !$) {
        throw "Please refer to jQuery file!";
    }
    var settings = {
        container: null, //父级容器对象
        callback: null,  //回调函数
        direction: null, //[null,'X','Y']
        area: []//[minX,maxX,minY,maxY]
    };
    //获取鼠标位置
    var getCursorPos = function (e) {        
        if (e.pageX || e.pageY) {
            return { x: e.pageX, y: e.pageY };
        }
        var _body = document.body;
        return {
            x: e.clientX + _body.scrollLeft - _body.clientLeft,
            y: e.clientY + _body.scrollTop - _body.clientTop
        };
    };

    $.fn.dragdrop = function (options) {
        var setting = $.extend({}, settings, options);

        //返回JQuery链式引用
        return this.each(function () {
            var canMoving = false,
                offset = { innerTop: 0, innerLeft: 0, offsetTop: 0, offsetLeft: 0 },
                container = null,
                _self = $(this);            
            container = setting.container ? $(setting.container, _self) : _self;
            container.css({ "position": "absolute" });

            //bind事件
            _self.on("mousedown", function (e) {
                canMoving = true;
                container.css("cursor", "move");
                var pos = getCursorPos(e),
                    temp = setting.container.position();
                if (container.get(0).setCapture) {
                    container.get(0).setCapture();
                }
                //记录鼠标按下时，鼠标相对于移动对象原点的距离.
                offset.innerLeft = pos.x - temp.left;
                offset.innerTop = pos.y - temp.top;
            });
            $(document).on("mousemove", function (e) {                
                if (canMoving) {                    
                    var pos = getCursorPos(e);
                    //记录鼠标移动偏移量
                    offset.offsetLeft = pos.x - offset.innerLeft;
                    offset.offsetTop = pos.y - offset.innerTop;
                    //限制                    
                    if (setting.area != null && setting.area.length == 4) {
                        if (offset.offsetLeft < parseInt(setting.area[0])) {
                            offset.offsetLeft = parseInt(setting.area[0]);
                        }
                        else if (offset.offsetLeft > parseInt(setting.area[1])) {
                            offset.offsetLeft = parseInt(setting.area[1]);
                        }
                        else if (offset.offsetTop < parseInt(setting.area[2])) {
                            offset.offsetTop = parseInt(setting.area[2]);
                        }
                        else if (offset.offsetTop > parseInt(setting.area[3])) {
                            offset.offsetTop = parseInt(setting.area[3]);
                        }
                    }

                    switch (setting.direction) {
                        case "X":
                            container.css("left", offset.offsetLeft);
                            break;
                        case "Y":
                            container.css("top", offset.offsetTop);
                            break;
                        default:
                            container.css({ "top": offset.offsetTop, "left": offset.offsetLeft });
                            break;
                    }
                    if (setting.callback) {
                        setting.callback.call(setting.callback, offset);
                    }
                }
            });
            $(document).on("mouseup", function () {
                canMoving = false;
                container.css("cursor", "default");
                if (container.get(0).releaseCapture) {
                    container.get(0).releaseCapture();
                }
            });

        });
    };

})(jQuery);

$(function(){
	
	$("#title").dragdrop({container:$("#div")});
	//返回首页
	$("#title").click(function(){
		window.location.href='index.html';
	})
	
});
</script>
</html>